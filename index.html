<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Sistema de Pedidos - Restaurante Sabor & Cia</title>
  <link rel="stylesheet" href="styles.css"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
</head>
<body>
  <!-- Top bar com botão de login do cliente (disponível em todas as telas) -->
  <header class="topbar">
    <div class="topbar-left">Restaurante Sabor & Cia</div>
    <div class="topbar-right">
      <button id="cart-btn" class="btn">
        <i class="fas fa-shopping-cart"></i>
        <span id="cart-count" style="margin-left:6px;">0</span>
      </button>
      <button id="client-login-btn" class="btn">Entrar</button>
      <a id="admin-login-link" href="admin-login.html" class="btn btn-secondary">Login Admin</a>
    </div>
  </header>

  <!-- CLIENTE (aberto por padrão) -->
  <div id="client-screen" class="screen active">
    <nav class="navbar">
      <div class="nav-brand">Cliente — <span id="client-name">Visitante</span></div>
      <div class="nav-user"><a href="#" id="client-logout" style="display:none;" onclick="logout()">Sair</a></div>
    </nav>

    <div class="admin-container">
      <main class="main-content">
        <section id="client-cardapio" class="client-section active">
          <h2>Cardápio</h2>
          <div class="category-filters">
            <button class="filter-btn active" onclick="filterByCategory('', this)">Todos</button>
            <button class="filter-btn" onclick="filterByCategory('Pratos Principais', this)">Pratos Principais</button>
            <button class="filter-btn" onclick="filterByCategory('Entradas', this)">Entradas</button>
            <button class="filter-btn" onclick="filterByCategory('Bebidas', this)">Bebidas</button>
            <button class="filter-btn" onclick="filterByCategory('Sobremesas', this)">Sobremesas</button>
          </div>

          <div id="client-menu-items" class="items-grid"></div>
        </section>

        <section id="client-carrinho" class="client-section">
          <h2>Carrinho</h2>
          <div id="cart-items"></div>
          <div id="cart-total">Total: R$ 0,00</div>

          <form id="order-form" class="form-card">
            <h3>Finalizar Pedido</h3>
            <div class="form-group">
              <label for="delivery-name">Nome</label>
              <input id="delivery-name" />
            </div>
            <div class="form-group">
              <label for="delivery-phone">Telefone</label>
              <input id="delivery-phone" />
            </div>
            <div class="form-group">
              <label for="delivery-address">Endereço</label>
              <input id="delivery-address" />
            </div>
            <div class="form-actions">
              <button class="btn btn-success" type="submit">Enviar Pedido</button>
            </div>
          </form>
        </section>

        <section id="client-meus-pedidos" class="client-section">
          <h2>Meus Pedidos</h2>
          <div id="my-orders-list"></div>
        </section>
      </main>
    </div>
  </div>

  <!-- ADMIN (permanece, mas só aberto quando admin logado) -->
  <div id="admin-screen" class="screen" style="display:none;">
    <nav class="navbar">
      <div class="nav-brand">Admin — <span id="admin-name"></span></div>
      <div class="nav-user"><a href="#" onclick="logout()">Sair</a></div>
    </nav>

    <div class="admin-container">
      <aside class="sidebar">
        <ul class="nav-menu">
          <li><a href="#" onclick="showAdminSection('cardapio')">Cardápio</a></li>
          <li><a href="#" onclick="showAdminSection('pedidos-pendentes')">Pedidos Pendentes <span id="pending-count" class="badge">0</span></a></li>
          <li><a href="#" onclick="showAdminSection('pedidos-aceitos')">Pedidos Aceitos</a></li>
          <li><a href="#" onclick="showAdminSection('historico')">Histórico</a></li>
        </ul>
      </aside>

      <main class="main-content">
        <section id="admin-cardapio" class="admin-section active">
          <h2>Cardápio (Admin)</h2>
          <form id="item-form" class="form-card">
            <h3>Novo item</h3>
            <div class="form-row">
              <div class="form-group">
                <label>Nome</label>
                <input id="item-nome" />
              </div>
              <div class="form-group">
                <label>Preço</label>
                <input id="item-preco" type="number" step="0.01" min="0" />
              </div>
            </div>
            <div class="form-group">
              <label>Descrição</label>
              <textarea id="item-descricao"></textarea>
            </div>
            <div class="form-group">
              <label>Categoria</label>
              <select id="item-categoria">
                <option value="Pratos Principais">Pratos Principais</option>
                <option value="Entradas">Entradas</option>
                <option value="Bebidas">Bebidas</option>
                <option value="Sobremesas">Sobremesas</option>
              </select>
            </div>
            <div class="form-group">
              <label>Disponível</label>
              <input id="item-disponivel" type="checkbox" checked />
            </div>
            <div class="form-actions">
              <button class="btn btn-primary" type="submit">Salvar Item</button>
            </div>
          </form>

          <div id="admin-menu-items" class="items-grid"></div>
        </section>

        <section id="admin-pedidos-pendentes" class="admin-section">
          <h2>Pedidos Pendentes</h2>
          <div id="pending-orders-list"></div>
        </section>

        <section id="admin-pedidos-aceitos" class="admin-section">
          <h2>Pedidos Aceitos</h2>
          <div id="accepted-orders-list"></div>
        </section>

        <section id="admin-historico" class="admin-section">
          <h2>Histórico</h2>
          <div id="orders-history"></div>
        </section>
      </main>
    </div>
  </div>

  <!-- Modal de login do cliente (não obrigatório para ver o cardápio) -->
  <div id="client-login-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Entrar como Cliente</h3>
      <form id="client-login-form">
        <div class="form-group"><label>Nome</label><input id="client-login-name" required /></div>
        <div class="form-group"><label>Senha</label><input id="client-login-pass" type="password" required /></div>
        <div class="form-actions">
          <button class="btn btn-primary" type="submit">Entrar</button>
          <button class="btn" type="button" onclick="closeClientLogin()">Fechar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal impressão -->
  <div id="print-modal" class="print-modal" style="display:none;">
    <div class="print-content">
      <div id="print-body"></div>
      <div class="form-actions">
        <button class="btn" onclick="closePrintModal()">Fechar</button>
        <button class="btn btn-primary" onclick="printOrder()">Imprimir</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>